<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Meta tags will be updated by JS if language changes -->
    <meta name="keywords" content="спк спортзнак, спортзнак, снт спортзнак" id="meta-keywords">
    <meta name="description" content="Официальный сайт СПК 'Спортзнак' в Наро-Фоминском районе Московской области. Узнайте больше о нашем уютном посёлке: расположение, преимущества, контакты председателя, фотогалерея." id="meta-description">
    <link rel="icon" type="image/png" href="favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="SPK Sportznak" />
    <link rel="manifest" href="site.webmanifest" />
    <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16" />
    <link href="favicon.ico" rel="icon" type="image/x-icon">
    <!-- Title will be updated by JS -->
    <title id="page-title">Официальный сайт СПК "Спортзнак"</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap');

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #181818;
            color: #f0f0f0;
            text-align: center;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: auto;
            padding: 20px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 8px rgba(255, 255, 255, 0.2);
            animation: fadeIn 1.2s ease-in-out;
            letter-spacing: 0.5px;
            cursor: default;
        }

        .date { /* Shared date class for news */
            font-size: 1rem;
            color: #bbb;
            margin-bottom: 20px;
            animation: fadeIn 1.5s ease-in-out;
            cursor: default;
        }

        .block {
            background: linear-gradient(135deg, #292929, #3a3a3a);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.8s ease-in-out;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .block:hover {
            transform: translateY(-5px);
            box-shadow: 0px 6px 18px rgba(255, 255, 255, 0.2);
        }

        h2 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.8rem;
            cursor: default;
        }

        p {
            font-size: 1.1rem;
            color: #ddd;
            cursor: default;
        }

        .button-container {
            margin-bottom: 20px;
        }

       .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .gallery img {
            width: calc(33.33% - 10px);
            height: auto;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .gallery img:hover {
            transform: scale(1.1);
        }

        .map-container {
            height: 300px;
            border-radius: 12px;
            overflow: hidden;
        }

        .map-container iframe {
            width: 100%;
            height: 100%;
            border: 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .copyright {
            margin-top: 40px;
            padding: 20px;
            background-color: #222;
            border-radius: 12px;
            font-size: 0.8rem;
            color: #999;
            cursor: default;
        }

        .news-item {
            margin-bottom: 15px;
            padding: 15px;
            border-bottom: 2px solid #333;
            text-align: left;
        }

        .news-item h3 {
            font-size: 1.1rem;
            color: #eee;
            margin-bottom: 5px;
            cursor: default;
        }

        /* Specific news date style */
        .news-item .news-date {
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 10px;
            cursor: default;
            /* Remove animation inherited from general .date */
            animation: none;
        }

        .news-item p {
            font-size: 0.9rem;
            color: #ccc;
            cursor: default;
        }

        .news-container {
            max-height: 400px;
            overflow-y: auto;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.9);
            padding-top: 50px;
            animation: slideUp 0.2s ease-in-out;
        }

        .modal-content {
            background-color: #292929;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 90%;
            max-width: 800px;
            border-radius: 12px;
            text-align: center;
        }

        .modal-content img {
            max-width: 100%;
            max-height: 80vh;
            display: block;
            margin: 0 auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: white;
            text-decoration: none;
            cursor: pointer;
        }

        .button {
            background-color: #3a3a3a;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            margin: 5px;
            transition: background-color 0.3s;
        }

        .contact-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .contact-text {
            text-align: center;
            padding-right: 0;
            margin-bottom: 15px;
            cursor: default;
        }

        .contact-image {
            text-align: center;
        }

        .contact-image img {
            width: 120px;
            height: 120px;
            border-radius: 45%;
            object-fit: cover;
        }

        .menu-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            display: none; /* Initially hidden, shown by media query */
            width: 30px;
            height: 30px;
            cursor: pointer;
            z-index: 2;
        }

        .menu-toggle span {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #fff;
            transform: translateY(-50%);
            transition: background-color 0.3s, transform 0.3s;
        }

        .menu-toggle span:before,
        .menu-toggle span:after {
            content: '';
            position: absolute;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #fff;
            transition: transform 0.3s;
        }

        .menu-toggle span:before {
            top: -8px;
        }

        .menu-toggle span:after {
            top: 8px;
        }

        .menu-toggle.open span {
            background-color: transparent;
        }

        .menu-toggle.open span:before {
            transform: translateY(8px) rotate(45deg);
        }

        .menu-toggle.open span:after {
            transform: translateY(-8px) rotate(-45deg);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1;
            display: none;
        }

        .overlay.open {
            display: block;
        }

        .menu {
            position: fixed;
            top: 0;
            left: -250px;
            width: 250px;
            height: 100%;
            background-color: #222;
            z-index: 3;
            transition: left 0.3s;
            padding-top: 60px;
            text-align: left;
        }

        .menu.open {
            left: 0;
        }

        .menu ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .menu li {
            padding: 15px;
            border-bottom: 1px solid #333;
        }

        .menu a {
            color: #fff;
            text-decoration: none;
            display: block;
        }

        .menu a:hover {
            background-color: #333;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .block {
                padding: 15px;
            }

            .gallery img {
                width: calc(100% - 10px);
            }

            .map-container {
                height: 250px;
            }

            .menu-toggle {
                display: block; /* Show hamburger menu on mobile */
            }
            .button-container {
                display: none; /* Hide desktop buttons on mobile */
            }
        }

        @media (min-width: 769px) {
            .menu-toggle {
                display: none; /* Hide hamburger menu on desktop */
            }
        }

    </style>
</head>
<body>

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

        ym(100472478, "init", {
             clickmap:true,
             trackLinks:true,
             accurateTrackBounce:true
        });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/100472478" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->

    <div class="menu-toggle">
        <span></span>
    </div>

    <div class="overlay"></div>

    <div class="menu">
        <ul>
            <!-- Added IDs for translation -->
            <li><a href="#" onclick="openModal('galleryModal'); closeMenu()" id="menu-gallery">Галерея</a></li>
            <li><a href="#description" onclick="closeMenu()" id="menu-description">Описание</a></li>
            <li><a href="#news" onclick="closeMenu()" id="menu-news">Новости</a></li>
            <li><a href="#development" onclick="closeMenu()" id="menu-development">Развитие</a></li>
            <li><a href="#contacts" onclick="closeMenu()" id="menu-contacts">Контакты</a></li>
            <li><a href="#map" onclick="closeMenu()" id="menu-map">Расположение</a></li>
        </ul>
    </div>

    <div class="container">
        <h1 id="main-heading">Официальный сайт<br>СПК "Спортзнак"</h1>

        <div class="button-container">
            <button class="button" onclick="openModal('galleryModal')" id="button-gallery">Галерея</button>
        </div>

        <!-- Gallery Modal -->
        <div id="galleryModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('galleryModal')">×</span>
                <h2 id="gallery-modal-title">Галерея</h2>
                <div class="gallery">
                     <!-- Images remain the same -->
                    <img src="https://i.pinimg.com/474x/db/c1/83/dbc1832eae3a76c75d92695bddb3f234.jpg" alt="Image 1" onclick="openImageModal('https://i.pinimg.com/474x/db/c1/83/dbc1832eae3a76c75d92695bddb3f234.jpg')">
                    <img src="https://i.pinimg.com/474x/38/d4/68/38d4689f39cdb6eaf3fc7e5aa4b6f3ec.jpg" alt="Image 2" onclick="openImageModal('https://i.pinimg.com/474x/38/d4/68/38d4689f39cdb6eaf3fc7e5aa4b6f3ec.jpg')">
                    <img src="https://i.pinimg.com/736x/b4/e2/df/b4e2df6764ffc5b3dbbe79a65eea550f.jpg" alt="Image 3" onclick="openImageModal('https://i.pinimg.com/736x/b4/e2/df/b4e2df6764ffc5b3dbbe79a65eea550f.jpg')">
                    <img src="https://i.pinimg.com/474x/c6/f9/17/c6f917ed52260906526341bbf173da06.jpg" alt="Image 4" onclick="openImageModal('https://i.pinimg.com/474x/c6/f9/17/c6f917ed52260906526341bbf173da06.jpg')">
                    <img src="https://i.pinimg.com/474x/ce/f2/c1/cef2c1a780c5606e4b452d56a6f56efd.jpg" alt="Image 5" onclick="openImageModal('https://i.pinimg.com/474x/ce/f2/c1/cef2c1a780c5606e4b452d56a6f56efd.jpg')">
                    <img src="https://i.pinimg.com/474x/89/91/14/8991142e04ac29123bdf229238c1bc7c.jpg" alt="Image 6" onclick="openImageModal('https://i.pinimg.com/474x/89/91/14/8991142e04ac29123bdf229238c1bc7c.jpg')">
                    <img src="https://i.postimg.cc/5jWNVW2N/photo-2025-03-14-19-29-18.jpg" alt="Image 7" onclick="openImageModal('https://i.postimg.cc/5jWNVW2N/photo-2025-03-14-19-29-18.jpg')">
                    <img src="https://i.postimg.cc/MKBDwCDk/photo-2025-03-14-19-29-18-2.jpg" alt="Image 8" onclick="openImageModal('https://i.postimg.cc/MKBDwCDk/photo-2025-03-14-19-29-18-2.jpg')">
                    <img src="https://i.postimg.cc/brktXhj3/photo-2025-03-14-19-33-51.jpg" alt="Image 9" onclick="openImageModal('https://i.postimg.cc/brktXhj3/photo-2025-03-14-19-33-51.jpg')">
                </div>
            </div>
        </div>

        <!-- Image Modal -->
        <div id="imageModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('imageModal')">×</span>
                <img id="modalImage" src="" alt="Full Image">
            </div>
        </div>

        <!-- Description Block -->
        <div class="block" id="description">
            <h2 id="description-title">Описание СПК "Спортзнак"</h2>
            <p id="description-text">СПК "Спортзнак" — это уютный посёлок в Наро-Фоминском районе Московской области.</p>
        </div>

        <!-- News Block -->
        <div class="block" id="news">
            <h2 id="news-title">Новости</h2>
            <div class="news-container">
                <div class="news-item">
                    <h3 id="news1-title">День космонавтики!</h3>
                    <div class="news-date" id="news1-date">12 апреля 2025</div>
                    <p id="news1-text">Поздравляем с Днём космонавтики!</p>
                </div>

                <div class="news-item">
                    <h3 id="news1-title">Обновление сайта!</h3>
                    <div class="news-date" id="news1-date">11 апреля 2025</div>
                    <p id="news1-text">Новое обновление сайта!</p>
                </div>

                <div class="news-item">
                    <h3 id="news2-title">С 8 Марта!</h3>
                    <div class="news-date" id="news2-date">8 марта 2025</div>
                    <p id="news2-text1">Поздравляем всех женщин с праздником!</p>
                    <p id="news2-text2">Желаем вам счастья, любви, успехов и долгих лет жизни!</p>
                </div>

                  <div class="news-item">
                    <h3 id="news3-title">Сайт запущен!</h3>
                    <div class="news-date" id="news3-date">7 марта 2025</div>
                    <p id="news3-text">Наш официальный сайт запущен в работу!</p>
                </div>
            </div>
        </div>

        <!-- Development Block -->
        <div class="block" id="development">
            <h2 id="development-title">Развитие</h2>
            <p id="development-text">В СПК "Спортзнак" часто проводятся собрания для обсуждения планов по улучшению территории, и работоспособности объектов, таких как: дороги, освещение, мусорные площадки и т. д.</p>
        </div>

        <!-- Contacts Block -->
        <div class="block" id="contacts">
            <h2 id="contacts-title">Контакты</h2>
            <div class="contact-container">
                <div class="contact-text">
                    <p id="contact-chairman">Председатель: Фаттяхетдинов Рушан Шамилевич</p>
                    <p id="contact-phone">Телефон: +7 916 600-94-60 (только для срочных вопросов)</p>
                </div>
                <div class="contact-image">
                    <img src="rushan.png" alt="Фото председателя" id="contact-img-alt">
                </div>
            </div>
        </div>

        <!-- Map Block -->
        <div class="block" id="map">
            <h2 id="map-title">Расположение на карте</h2>
            <div class="map-container">
                <!-- Map iframe remains the same -->
                <iframe src="https://yandex.ru/map-widget/v1/?ll=36.402552%2C55.314090&z=17&l=sat,skl,stv,sta&whatshere%5Bpoint%5D=36.402552%2C55.314090&whatshere%5Bzoom%5D=100"
        width="100%" height="400" frameborder="0" allowfullscreen="true"></iframe>
            </div>
        </div>

        <!-- Copyright -->
        <div class="copyright" id="copyright-text">
            © 2025 СПК "Спортзнак". Все права защищены.
        </div>
    </div>

    <!-- === JAVASCRIPT === -->
    <script>
        // --- Basic Menu and Modal Functionality ---
        const menuToggle = document.querySelector('.menu-toggle');
        const menu = document.querySelector('.menu');
        const overlay = document.querySelector('.overlay');

        menuToggle.addEventListener('click', () => {
            menuToggle.classList.toggle('open');
            menu.classList.toggle('open');
            overlay.classList.toggle('open');
        });

        overlay.addEventListener('click', () => {
            closeMenu();
        });

        function closeMenu() {
            menuToggle.classList.remove('open');
            menu.classList.remove('open');
            overlay.classList.remove('open');
        }

        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) modal.style.display = "block";
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) modal.style.display = "none";
        }

        function openImageModal(imageSrc) {
            const modalImage = document.getElementById('modalImage');
            if (modalImage) {
                 modalImage.src = imageSrc;
                 openModal('imageModal');
            }
        }

        // Close modal if clicking outside the content
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                closeModal(event.target.id);
            }
        }

        // --- Language Switching Logic ---

        // Translations Object
        const translations = {
            'en': {
                'meta-keywords': 'spk sportznak, sportznak, snt sportznak, cooperative',
                'meta-description': "Official website of SPK 'Sportznak' in the Naro-Fominsk district of the Moscow region. Learn more about our cozy settlement: location, advantages, chairman's contacts, photo gallery.",
                'page-title': 'Official Website SPK "Sportznak"',
                'main-heading': 'Official Website<br>SPK "Sportznak"',
                'button-gallery': 'Gallery',
                'menu-gallery': 'Gallery',
                'menu-description': 'Description',
                'menu-news': 'News',
                'menu-development': 'Development',
                'menu-contacts': 'Contacts',
                'menu-map': 'Location',
                'gallery-modal-title': 'Gallery',
                'description-title': 'Description of SPK "Sportznak"',
                'description-text': 'SPK "Sportznak" is a cozy settlement in the Naro-Fominsk district of the Moscow region.',
                'news-title': 'News',
                'news1-title': 'Site Update!',
                'news1-date': 'April 11, 2025', // Keep date format consistent or change as needed
                'news1-text': 'New site update!',
                'news2-title': 'Happy March 8th!',
                'news2-date': 'March 8, 2025',
                'news2-text1': 'Congratulations to all women on the holiday!',
                'news2-text2': 'We wish you happiness, love, success, and long life!',
                'news3-title': 'Site Launched!',
                'news3-date': 'March 7, 2025',
                'news3-text': 'Our official website has been launched!',
                'development-title': 'Development',
                'development-text': 'Meetings are often held at SPK "Sportznak" to discuss plans for improving the territory and the functionality of facilities such as roads, lighting, garbage collection areas, etc.',
                'contacts-title': 'Contacts',
                'contact-chairman': 'Chairman: Fattyakhetdinov Rushan Shamilevich', // Name transliteration
                'contact-phone': 'Phone: +7 916 600-94-60 (for urgent matters only)',
                'contact-img-alt': "Chairman's Photo",
                'map-title': 'Location on Map',
                'copyright-text': '© 2025 SPK "Sportznak". All rights reserved.'
            }
            // Add other languages here if needed, e.g., 'ru': { ... } (though RU is the default in HTML)
        };

        function switchToEnglish() {
            console.log("Switching to English");
            const lang = 'en';
            document.documentElement.lang = lang; // Set HTML lang attribute

            for (const id in translations[lang]) {
                const element = document.getElementById(id);
                if (element) {
                    // Handle specific element types
                    if (id.startsWith('meta-')) {
                        const metaName = id.split('-')[1];
                        const metaElement = document.querySelector(`meta[name="${metaName}"]`);
                        if (metaElement) {
                            metaElement.content = translations[lang][id];
                        }
                    } else if (element.tagName === 'TITLE') {
                        element.textContent = translations[lang][id];
                    } else if (element.tagName === 'IMG') {
                        element.alt = translations[lang][id];
                    }
                     else if (id === 'main-heading') { // Handle potential <br>
                         element.innerHTML = translations[lang][id];
                    }
                    else {
                        // For most elements like p, h1, h2, h3, a, button, div
                        element.textContent = translations[lang][id];
                    }
                } else {
                    console.warn(`Element with ID '${id}' not found for translation.`);
                }
            }
        }

        // --- Geolocation and Language Check ---
        document.addEventListener('DOMContentLoaded', () => {
            // Use HTTPS for the API call if your site is served over HTTPS
            fetch('https://ip-api.com/json/?fields=status,message,countryCode')
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    if (data.status === 'success' && data.countryCode) {
                        const country = data.countryCode;
                        console.log("Detected country:", country);
                        // Switch to English if NOT Russia (RU) or Belarus (BY)
                        if (country !== 'RU' && country !== 'BY') {
                            switchToEnglish();
                        } else {
                             console.log("Region is RU or BY, keeping Russian.");
                        }
                    } else {
                         throw new Error(`API Error: ${data.message || 'Could not retrieve country code'}`);
                    }
                })
                .catch(error => {
                    console.error("Could not get geolocation or apply translation:", error);
                    // Optional: Default to Russian (which it already is) or try another method
                });
        });

    </script>
</body>
</html>
